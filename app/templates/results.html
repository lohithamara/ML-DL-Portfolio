<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Flight Results</title>
    <link rel="stylesheet" href="/static/style.css">
    <script src="/static/filter.js"></script>
</head>

<body>
    <h1>Available Flights</h1>
    <p>Days left until journey: <b>{{ days_left }}</b></p>
    <div id="filters">
        <label>Airline:
            <select id="airlineFilter">
                <option value="">All</option>
                {% for airline in filters.airlines %}
                <option value="{{ airline }}">{{ airline }}</option>
                {% endfor %}
            </select>
        </label>
        <label>Class:
            <select id="classFilter">
                <option value="">All</option>
                {% for c in filters.classes %}
                <option value="{{ c }}">{{ c }}</option>
                {% endfor %}
            </select>
        </label>
        <label>Stops:
            <select id="stopsFilter">
                <option value="">All</option>
                <option value="0">Non-stop</option>
                <option value="1">1 Stop</option>
                <option value="2">2 Stops</option>
            </select>
        </label>
    </div>
    <table id="flightsTable" border="1">
        <thead>
            <tr>
                <th>Airline</th>
                <th>Source</th>
                <th>Destination</th>
                <th>Departure</th>
                <th>Arrival</th>
                <th>Stops</th>
                <th>Class</th>
                <th>Price</th>
                {% if persons|int > 1 %}
                <th>Price per Head</th>{% endif %}
            </tr>
        </thead>
        <tbody>
            {% for flight in flights %}
            <tr>
                <td>{{ flight.airline }}</td>
                <td>{{ flight.source }}</td>
                <td>{{ flight.destination }}</td>
                <td>{{ flight.departure }}</td>
                <td>{{ flight.arrival }}</td>
                <td>{{ flight.stops }}</td>
                <td>{{ flight.class }}</td>
                <td>{{ flight.price }}</td>
                {% if persons|int > 1 %}
                <td>{{ (flight.price // persons) }}</td>{% endif %}
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <div class="actions">
        <a href="/" class="btn">Modify Search</a>
    </div>
</body>

</html>